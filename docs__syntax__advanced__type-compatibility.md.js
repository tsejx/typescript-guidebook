(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{Rs6p:function(e,n,a){"use strict";a.r(n);var t=a("q1tI"),l=a.n(t),r=(a("B2uJ"),a("+su7"),a("qOys")),c=a.n(r);a("5Yjd");n["default"]=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"\u7c7b\u578b\u517c\u5bb9\u6027"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u7c7b\u578b\u517c\u5bb9\u6027"},l.a.createElement("span",{className:"icon icon-link"})),"\u7c7b\u578b\u517c\u5bb9\u6027"),l.a.createElement("p",null,"\u7c7b\u578b\u517c\u5bb9\u6027\u7528\u4e8e\u786e\u5b9a\u4e00\u4e2a\u7c7b\u578b\u662f\u5426\u80fd\u8d4b\u503c\u7ed9\u5176\u4ed6\u7c7b\u578b\u3002"),l.a.createElement("p",null,"\u5982 ",l.a.createElement("code",null,"string")," \u7c7b\u578b\u4e0e ",l.a.createElement("code",null,"number")," \u7c7b\u578b\u4e0d\u517c\u5bb9\uff1a"),l.a.createElement(c.a,{code:"let str: string = 'Hello world!';\nlet num: number = 123;\n\nstr = num; // Error: 'number' \u4e0d\u80fd\u8d4b\u503c\u7ed9 'string'\nnum = str; // Error: 'string' \u4e0d\u80fd\u8d4b\u503c\u7ed9 'number'\n",lang:"ts"}),l.a.createElement("h2",{id:"\u5b89\u5168\u6027"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u5b89\u5168\u6027"},l.a.createElement("span",{className:"icon icon-link"})),"\u5b89\u5168\u6027"),l.a.createElement("p",null,"TypeScript \u7c7b\u578b\u7cfb\u7edf\u8bbe\u8ba1\u6bd4\u8f83\u65b9\u4fbf\uff0c\u5b83\u5141\u8bb8\u4f60\u6709\u4e00\u4e9b\u4e0d\u6b63\u786e\u7684\u884c\u4e3a\u3002\u4f8b\u5982\uff1a\u4efb\u4f55\u7c7b\u578b\u90fd\u80fd\u88ab\u8d4b\u503c\u7ed9 ",l.a.createElement("code",null,"any"),"\uff0c\u8fd9\u610f\u5473\u7740\u544a\u8bc9\u7f16\u8bd1\u5668\u4f60\u53ef\u4ee5\u505a\u4efb\u4f55\u4f60\u60f3\u505a\u7684\u4e8b\u60c5\uff1a"),l.a.createElement(c.a,{code:"const foo: any = 123;\nfoo = 'hello';\n\nfoo.toPrecision(3);\n",lang:"ts"}),l.a.createElement("h2",{id:"\u7ed3\u6784\u5316"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u7ed3\u6784\u5316"},l.a.createElement("span",{className:"icon icon-link"})),"\u7ed3\u6784\u5316"),l.a.createElement("p",null,"TypeScript \u5bf9\u8c61\u662f\u4e00\u79cd\u7ed3\u6784\u7c7b\u578b\uff0c\u8fd9\u610f\u5473\u7740\u53ea\u8981\u7ed3\u6784\u5339\u914d\uff0c\u540d\u79f0\u4e5f\u5c31\u65e0\u5173\u7d27\u8981\u4e86\uff1a"),l.a.createElement(c.a,{code:"interface Point {\n  x: number;\n  y: number;\n}\n\nclass Point2D {\n  constructor(public x: number, public y: number) {}\n}\n\nlet p: Point;\n\n// ok, \u56e0\u4e3a\u662f\u7ed3\u6784\u5316\u7684\u7c7b\u578b\np = new Point2D(1, 2);\n",lang:"ts"}),l.a.createElement("p",null,"\u8fd9\u5141\u8bb8\u4f60\u52a8\u6001\u521b\u5efa\u5bf9\u8c61\uff08\u5c31\u597d\u50cf\u4f60\u5728 vanilla JS \u4e2d\u4f7f\u7528\u4e00\u6837\uff09\uff0c\u5e76\u4e14\u5b83\u5982\u679c\u80fd\u88ab\u63a8\u65ad\uff0c\u8be5\u5bf9\u8c61\u4ecd\u7136\u5177\u6709\u5b89\u5168\u6027\u3002"),l.a.createElement(c.a,{code:"interface Point2D {\n  x: number;\n  y: number;\n}\n\ninterface Point3D {\n  x: number;\n  y: number;\n  z: number;\n}\n\nconst point2D: Point2D = { x: 0, y: 10 };\nconst point3D: Point3D = { x: 0, y: 10, z: 20 };\nfunction iTakePoint2D(point: Point2D) {\n  /* do something */\n}\n\niTakePoint2D(point2D); // ok, \u5b8c\u5168\u5339\u914d\niTakePoint2D(point3D); // \u989d\u5916\u7684\u4fe1\u606f\uff0c\u6ca1\u5173\u7cfb\niTakePoint2D({ x: 0 }); // Error: \u6ca1\u6709 'y'\n",lang:"ts"}),l.a.createElement("h2",{id:"\u53d8\u4f53"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u53d8\u4f53"},l.a.createElement("span",{className:"icon icon-link"})),"\u53d8\u4f53"),l.a.createElement("p",null,"\u5bf9\u7c7b\u578b\u517c\u5bb9\u6027\u6765\u8bf4\uff0c\u53d8\u4f53\u662f\u4e00\u4e2a\u5229\u4e8e\u7406\u89e3\u548c\u91cd\u8981\u7684\u6982\u5ff5\u3002"),l.a.createElement("p",null,"\u5bf9\u4e00\u4e2a\u7b80\u5355\u7c7b\u578b ",l.a.createElement("code",null,"Base")," \u548c ",l.a.createElement("code",null,"Child")," \u6765\u8bf4\uff0c\u5982\u679c ",l.a.createElement("code",null,"Child")," \u662f ",l.a.createElement("code",null,"Base")," \u7684\u5b50\u7c7b\uff0c",l.a.createElement("code",null,"Child")," \u7684\u5b9e\u4f8b\u80fd\u88ab\u8d4b\u503c\u7ed9 ",l.a.createElement("code",null,"Base")," \u7c7b\u578b\u7684\u53d8\u91cf\u3002"),l.a.createElement("p",null,"\u5728\u7531 ",l.a.createElement("code",null,"Base")," \u548c ",l.a.createElement("code",null,"Child")," \u7ec4\u5408\u7684\u590d\u6742\u7c7b\u578b\u7684\u7c7b\u578b\u517c\u5bb9\u6027\u4e2d\uff0c\u5b83\u53d6\u51b3\u4e8e\u76f8\u540c\u573a\u666f\u4e0b\u7684 ",l.a.createElement("code",null,"Base")," \u4e0e ",l.a.createElement("code",null,"Child")," \u7684\u53d8\u4f53\uff1a"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u534f\u53d8\uff08Covariant\uff09\uff1a\u53ea\u5728\u540c\u4e00\u4e2a\u65b9\u5411"),l.a.createElement("li",null,"\u9006\u53d8\uff08Contravariant\uff09\uff1a\u53ea\u5728\u76f8\u53cd\u7684\u65b9\u5411"),l.a.createElement("li",null,"\u53cc\u5411\u534f\u53d8\uff08Bivariant\uff09\uff1a\u5305\u62ec\u540c\u4e00\u4e2a\u65b9\u5411\u548c\u4e0d\u540c\u65b9\u5411"),l.a.createElement("li",null,"\u4e0d\u53d8\uff08Invariant\uff09\uff1a\u5982\u679c\u7c7b\u578b\u4e0d\u5b8c\u5168\u76f8\u540c\uff0c\u5219\u5b83\u4eec\u662f\u4e0d\u517c\u5bb9\u7684")),l.a.createElement("blockquote",null,l.a.createElement("p",null,"\u5bf9\u4e8e\u5b58\u5728\u5b8c\u5168\u53ef\u53d8\u6570\u636e\u7684\u5065\u5168\u7684\u7c7b\u578b\u7cfb\u7edf\uff08\u5982 JavaScript\uff09\uff0c",l.a.createElement("code",null,"Invariant")," \u662f\u4e00\u4e2a\u552f\u4e00\u7684\u6709\u6548\u7684\u53ef\u9009\u53d8\u91cf\uff0c\u4f46\u662f\u5982\u6211\u4eec\u8bf4\u8ba8\u8bba\u7684\uff0c\u4fbf\u5229\u6027\u8feb\u4f7f\u6211\u4eec\u4f5c\u51fa\u4e00\u4e9b\u4e0d\u662f\u5f88\u5b89\u5168\u7684\u9009\u62e9\u3002")),l.a.createElement("h2",{id:"\u51fd\u6570"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u51fd\u6570"},l.a.createElement("span",{className:"icon icon-link"})),"\u51fd\u6570"),l.a.createElement("p",null,"\u5f53\u4f60\u5728\u6bd4\u8f83\u4e24\u4e2a\u51fd\u6570\u65f6\uff0c\u6709\u4e00\u4e9b\u4f60\u9700\u8981\u8003\u8651\u7684\u6570\u636e\u3002"),l.a.createElement("h3",{id:"\u8fd4\u56de\u7c7b\u578b"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u8fd4\u56de\u7c7b\u578b"},l.a.createElement("span",{className:"icon icon-link"})),"\u8fd4\u56de\u7c7b\u578b"),l.a.createElement("p",null,"\u534f\u53d8\uff08Covariant\uff09\uff1a\u8fd4\u56de\u7c7b\u578b\u5fc5\u987b\u5305\u542b\u8db3\u591f\u7684\u6570\u636e\u3002"),l.a.createElement(c.a,{code:"interface Point2D {\n  x: number;\n  y: number;\n}\n\ninterface Point3D {\n  x: number;\n  y: number;\n  z: number;\n}\n\nlet iMakePoint2D = (): Point2D => ({ x: 0, y: 0 });\nlet iMakePoint3D = (): Point3D => ({ x: 0, y: 0, z: 0 });\n\niMakePoint2D = iMakePoint3D;\niMakePoint3D = iMakePoint2D; // ERROR: Point2D \u4e0d\u80fd\u8d4b\u503c\u7ed9 Point3D\n",lang:"ts"}),l.a.createElement("h3",{id:"\u53c2\u6570\u6570\u91cf"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u53c2\u6570\u6570\u91cf"},l.a.createElement("span",{className:"icon icon-link"})),"\u53c2\u6570\u6570\u91cf"),l.a.createElement("p",null,"\u66f4\u5c11\u7684\u53c2\u6570\u6570\u91cf\u662f\u597d\u7684\uff08\u5982\uff1a\u51fd\u6570\u80fd\u591f\u9009\u62e9\u6027\u5730\u5ffd\u7565\u4e00\u4e9b\u591a\u4f59\u7684\u53c2\u6570\uff09\uff0c\u4f46\u662f\u4f60\u5f97\u4fdd\u8bc1\u6709\u8db3\u591f\u7684\u53c2\u6570\u88ab\u4f7f\u7528\uff1a"),l.a.createElement(c.a,{code:"const foo = (x: (err: Error, data: any) => void) => {\n  /* Do Something Else */\n};\n\nfoo(() => null);\nfoo(err => null);\nfoo((err, data) => null);\n\n// Error: \u53c2\u6570\u7c7b\u578b `(err: any, data: any, more: any) => null` \u4e0d\u80fd\u8d4b\u503c\u7ed9\u53c2\u6570\u7c7b\u578b `(err: Error, data: any) => void`\nfoo((err, data, more) => null);\n",lang:"ts"}),l.a.createElement("h3",{id:"\u53ef\u9009\u7684\u548c-rest-\u53c2\u6570"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u53ef\u9009\u7684\u548c-rest-\u53c2\u6570"},l.a.createElement("span",{className:"icon icon-link"})),"\u53ef\u9009\u7684\u548c rest \u53c2\u6570"),l.a.createElement("p",null,"\u53ef\u9009\u7684\uff08\u9884\u5148\u786e\u5b9a\u7684\uff09\u548c Rest \u53c2\u6570\uff08\u4efb\u4f55\u6570\u91cf\u7684\u53c2\u6570\uff09\u90fd\u662f\u517c\u5bb9\u7684\uff1a"),l.a.createElement(c.a,{code:"let foo = (x: number, y: number) => {};\nlet bar = (x?: number, y?: number) => {};\nlet baz = (...args: number[]) => {};\n\nfoo = bar = baz;\nbaz = bar = foo;\n",lang:"ts"}),l.a.createElement("blockquote",null,l.a.createElement("p",null,"\u53ef\u9009\u7684\uff08\u4e0a\u8ff0\u4f8b\u5b50\u4e2d\u7684 ",l.a.createElement("code",null,"bar"),"\uff09\u4e0e\u4e0d\u53ef\u9009\u7684\uff08\u4e0a\u8ff0\u4f8b\u5b50\u4e2d\u7684 ",l.a.createElement("code",null,"foo"),"\uff09\u4ec5\u5728\u9009\u9879\u4e3a ",l.a.createElement("code",null,"strictNullChecks")," \u4e3a ",l.a.createElement("code",null,"false")," \u65f6\u517c\u5bb9")),l.a.createElement("h3",{id:"\u51fd\u6570\u53c2\u6570\u7c7b\u578b"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u51fd\u6570\u53c2\u6570\u7c7b\u578b"},l.a.createElement("span",{className:"icon icon-link"})),"\u51fd\u6570\u53c2\u6570\u7c7b\u578b"),l.a.createElement("p",null,"\u53cc\u5411\u534f\u53d8\uff08Bivariant\uff09\uff1a\u65e8\u5728\u652f\u6301\u5e38\u89c1\u7684\u4e8b\u4ef6\u5904\u7406\u65b9\u6848\u3002"),l.a.createElement(c.a,{code:"// \u4e8b\u4ef6\u7b49\u7ea7\ninterface Event {\n  timestamp: number;\n}\n\ninterface MouseEvent extends Event {\n  x: number;\n  y: number;\n}\n\ninterface KeyEvent extends Event {\n  keyCode: number;\n}\n\n// \u7b80\u5355\u7684\u4e8b\u4ef6\u76d1\u542c\nenum EventType {\n  Mouse,\n  Keyboard,\n}\n\nfunction addEventListener(eventType: EventType, handler: (n: Event) => void) {\n  // ...\n}\n\n// \u4e0d\u5b89\u5168\uff0c\u4f46\u662f\u6e38\u6cf3\u6c60\uff0c\u5e38\u89c1\u3002\u51fd\u6570\u53c2\u6570\u7684\u6bd4\u8f83\u662f\u53cc\u5411\u534f\u53d8\u3002\naddEventListener(EventType.Mouse, (e: MouseEvent) => console.log(e.x + ',' + e.y));\n\n// \u5728\u5b89\u5168\u60c5\u666f\u4e0b\u7684\u4e00\u79cd\u4e0d\u597d\u65b9\u6848\naddEventListener(EventType.Mouse, (e: MouseEvent) =>\n  console.log((<MouseEvent>e).x + ',' + (<MouseEvent>e).y)\n);\naddEventListener(EventType.Mouse, <(e: Event) => void>(\n  ((e: MouseEvent) => console.log(e.x + ',' + e.y))\n));\n\n// \u4ecd\u7136\u4e0d\u5141\u8bb8\u660e\u786e\u7684\u9519\u8bef\uff0c\u5bf9\u5b8c\u5168\u4e0d\u517c\u5bb9\u7684\u7c7b\u578b\u4f1a\u5f3a\u5236\u68c0\u67e5\naddEventListener(EventType.Mouse, (e: number) => console.log(e));\n",lang:"ts"}),l.a.createElement("p",null,"\u540c\u6837\u7684\uff0c\u4f60\u4e5f\u53ef\u4ee5\u628a ",l.a.createElement("code",null,"Array<Child>")," \u8d4b\u503c\u7ed9 ",l.a.createElement("code",null,"Array<Base>"),"\uff08\u534f\u53d8\uff09\uff0c\u56e0\u4e3a\u51fd\u6570\u662f\u517c\u5bb9\u7684\u3002\u6570\u7ec4\u7684\u534f\u53d8\u9700\u8981\u6240\u6709\u7684\u51fd\u6570 ",l.a.createElement("code",null,"Array<Child>")," \u90fd\u80fd\u8d4b\u503c\u7ed9 ",l.a.createElement("code",null,"Array<Base>"),"\uff0c\u4f8b\u5982 ",l.a.createElement("code",null,"push(t: Child)")," \u80fd\u88ab\u8d4b\u503c\u7ed9 ",l.a.createElement("code",null,"push(t: Base)"),"\uff0c\u8fd9\u90fd\u53ef\u4ee5\u901a\u8fc7\u51fd\u6570\u53c2\u6570\u53cc\u5411\u534f\u53d8\u5b9e\u73b0\u3002"),l.a.createElement("p",null,"\u4e0b\u9762\u7684\u4ee3\u7801\u5bf9\u4e8e\u5176\u4ed6\u8bed\u8a00\u7684\u5f00\u53d1\u8005\u6765\u8bf4\uff0c\u53ef\u80fd\u4f1a\u611f\u5230\u5f88\u56f0\u60d1\uff0c\u56e0\u4e3a\u4ed6\u4eec\u8ba4\u4e3a\u662f\u6709\u9519\u8bef\u7684\uff0c\u53ef\u662f Typescript \u5e76\u4e0d\u4f1a\u62a5\u9519\uff1a"),l.a.createElement(c.a,{code:"interface Poin2D {\n  x: number;\n  y: number;\n}\n\nlet iTakePoint2D = (point: Point2D) => {};\nlet iTakePoint3D = (point: Point3D) => {};\n\niTakePoint3D = iTakePoint2D; // ok, \u8fd9\u662f\u5408\u7406\u7684\niTakePoint2D = iTakePoint3D; // ok\uff0c\u4e3a\u4ec0\u4e48\uff1f\n",lang:"ts"}),l.a.createElement("h2",{id:"\u679a\u4e3e"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u679a\u4e3e"},l.a.createElement("span",{className:"icon icon-link"})),"\u679a\u4e3e"),l.a.createElement("p",null,"\u679a\u4e3e\u4e0e\u6570\u5b57\u7c7b\u578b\u76f8\u4e92\u517c\u5bb9"),l.a.createElement(c.a,{code:"enum Status {\n  Ready,\n  Waiting,\n}\n\nlet status = Status.Ready;\nlet num = 0;\n\nstatus = num;\nnum = status;\n",lang:"ts"}),l.a.createElement("p",null,"\u6765\u81ea\u4e8e\u4e0d\u540c\u679a\u4e3e\u7684\u679a\u4e3e\u53d8\u91cf\uff0c\u88ab\u8ba4\u4e3a\u662f\u4e0d\u517c\u5bb9\u7684\uff1a"),l.a.createElement(c.a,{code:"enum Status {\n  Ready,\n  Waiting,\n}\nenum Color {\n  Red,\n  Blue,\n  Green,\n}\n\nlet status = Status.Ready;\nlet color = Color.Red;\n\nstatus = color; // Error\n",lang:"ts"}),l.a.createElement("h2",{id:"\u7c7b"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u7c7b"},l.a.createElement("span",{className:"icon icon-link"})),"\u7c7b"),l.a.createElement("p",null,"\u4ec5\u4ec5\u53ea\u6709",l.a.createElement("strong",null,"\u5b9e\u4f8b\u6210\u5458\u548c\u65b9\u6cd5"),"\u4f1a\u76f8\u6bd4\u8f83\uff0c",l.a.createElement("strong",null,"\u6784\u9020\u51fd\u6570"),"\u548c",l.a.createElement("strong",null,"\u9759\u6001\u6210\u5458"),"\u4e0d\u4f1a\u88ab\u68c0\u67e5\u3002"),l.a.createElement(c.a,{code:"class Animal {\n  feet: number;\n  constructor(name: string, numFeet: number) {}\n}\n\nclass Size {\n  feet: number;\n  constructor(meters: number) {}\n}\n\nlet a: Animal;\nlet s: Size;\n\na = s; // OK\ns = a; // OK\n",lang:"ts"}),l.a.createElement("p",null,l.a.createElement("strong",null,"\u79c1\u6709\u7684\u548c\u53d7\u4fdd\u62a4\u7684\u6210\u5458"),"\u5fc5\u987b\u6765\u81ea\u4e8e\u76f8\u540c\u7684\u7c7b\u3002"),l.a.createElement(c.a,{code:"class Animal {\n  protected feet: number;\n}\nclass Cat extends Animal {}\n\nlet animal: Animal;\nlet cat: Cat;\n\nanimal = cat; // ok\ncat = animal; // ok\n\nclass Size {\n  protected feet: number;\n}\n\nlet size: Size;\n\nanimal = size; // ERROR\nsize = animal; // ERROR\n",lang:"ts"}),l.a.createElement("h2",{id:"\u6cdb\u578b"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u6cdb\u578b"},l.a.createElement("span",{className:"icon icon-link"})),"\u6cdb\u578b"),l.a.createElement("p",null,"TypeScript \u7c7b\u578b\u7cfb\u7edf\u57fa\u4e8e\u53d8\u91cf\u7684\u7ed3\u6784\uff0c\u4ec5\u5f53\u7c7b\u578b\u53c2\u6570\u5728\u88ab\u4e00\u4e2a\u6210\u5458\u4f7f\u7528\u65f6\uff0c\u624d\u4f1a\u5f71\u54cd\u517c\u5bb9\u6027\u3002\u5982\u4e0b\u4f8b\u5b50\u4e2d\uff0c",l.a.createElement("code",null,"T")," \u5bf9\u517c\u5bb9\u6027\u6ca1\u6709\u5f71\u54cd\uff1a"),l.a.createElement(c.a,{code:"interface Empty<T> {}\n\nlet x: Empty<number>;\nlet y: Empty<string>;\n\nx = y; // ok\n",lang:"ts"}),l.a.createElement("p",null,"\u5f53 ",l.a.createElement("code",null,"T")," \u88ab\u6210\u5458\u4f7f\u7528\u65f6\uff0c\u5b83\u5c06\u5728\u5b9e\u4f8b\u5316\u6cdb\u578b\u540e\u5f71\u54cd\u517c\u5bb9\u6027\uff1a"),l.a.createElement(c.a,{code:"interface Empty<T> {\n  data: T;\n}\n\nlet x: Empty<number>;\nlet y: Empty<string>;\n\nx = y; // Error\n",lang:"ts"}),l.a.createElement("p",null,"\u5982\u679c\u5c1a\u672a\u5b9e\u4f8b\u5316\u6cdb\u578b\u53c2\u6570\uff0c\u5219\u5728\u68c0\u67e5\u517c\u5bb9\u6027\u4e4b\u524d\u5c06\u5176\u66ff\u6362\u4e3a any\uff1a"),l.a.createElement(c.a,{code:"let identity = function<T>(x: T): T {\n  // ...\n};\n\nlet reverse = function<U>(y: U): U {\n  // ...\n};\n\nidentity = reverse; // ok, \u56e0\u4e3a `(x: any) => any` \u5339\u914d `(y: any) => any`\n",lang:"ts"}),l.a.createElement("p",null,"\u7c7b\u4e2d\u7684\u6cdb\u578b\u517c\u5bb9\u6027\u4e0e\u524d\u6587\u6240\u63d0\u53ca\u4e00\u81f4\uff1a"),l.a.createElement(c.a,{code:"class List<T> {\n  add(val: T) {}\n}\n\nclass Animal {\n  name: string;\n}\nclass Cat extends Animal {\n  meow() {\n    // ..\n  }\n}\n\nconst animals = new List<Animal>();\nanimals.add(new Animal()); // ok\nanimals.add(new Cat()); // ok\n\nconst cats = new List<Cat>();\ncats.add(new Animal()); // Error\ncats.add(new Cat()); // ok\n",lang:"ts"}),l.a.createElement("h2",{id:"\u811a\u6ce8"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u811a\u6ce8"},l.a.createElement("span",{className:"icon icon-link"})),"\u811a\u6ce8"),l.a.createElement("p",null,"\u4e0d\u53d8\u6027\uff08Invariance\uff09\u53ef\u80fd\u662f\u552f\u4e00\u4e00\u4e2a\u542c\u8d77\u6765\u5408\u7406\u7684\u9009\u9879\uff0c\u8fd9\u91cc\u53c8\u4e00\u4e2a\u5173\u4e8e ",l.a.createElement("code",null,"contra")," \u548c ",l.a.createElement("code",null,"co")," \u7684\u53d8\u4f53\uff0c\u88ab\u8ba4\u4e3a\u5bf9\u6570\u7ec4\u662f\u4e0d\u5b89\u5168\u7684\u3002"),l.a.createElement(c.a,{code:"class Animal {\n  constructor(public name: string) {}\n}\nclass Cat extends Animal {\n  meow() {\n    console.log('cat');\n  }\n}\n\nlet animal = new Animal('animal');\nlet cat = new Cat('cat');\n\n// \u591a\u6001\n// Animal <= Cat\n\nanimal = cat; // ok\ncat = animal; // Error: cat \u7ee7\u627f\u4e8e animal\n\n// \u6f14\u793a\u6bcf\u4e2a\u6570\u7ec4\u5f62\u5f0f\nlet animalArr: Animal[] = [animal];\nlet catArr: Cat[] = [cat];\n\n// \u660e\u663e\u7684\u574f\u5904\uff0c\u9006\u53d8\n// Animal <= Cat\n// Animal[] >= Cat[]\ncatArr = animalArr; // ok \u5982\u6709\u6709\u9006\u53d8\ncatArr[0].meow(); // \u5141\u8bb8\uff0c\u4f46\u662f\u4f1a\u5728\u8fd0\u884c\u65f6\u62a5\u9519\n\n// \u53e6\u5916\u4e00\u4e2a\u574f\u5904\uff0c\u534f\u53d8\n// Animal <= Cat\n// Animal[] >= Cat[]\nanimalArr = catArr; // ok \u534f\u53d8\n\nanimalArr.push(new Animal('another animal')); // \u4ec5\u4ec5\u662f push \u4e00\u4e2a animal \u81f3 carArr \u91cc\ncatArr.forEach(c => c.meow()); // \u5141\u8bb8\uff0c\u4f46\u662f\u4f1a\u5728\u8fd0\u884c\u65f6\u62a5\u9519\n",lang:"ts"})))}}}]);