<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/typescript-guidebook/umi.css" />
    <script>
      window.routerBase = "/typescript-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.16
    </script>
    <title>对象的类型 / 接口</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/typescript-guidebook-logo.svg&#x27;)" href="/typescript-guidebook//">TypeScript Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a aria-current="page" class="active" href="/typescript-guidebook//syntax">语法</a><a href="/typescript-guidebook//config">配置</a><a href="/typescript-guidebook//compiler">编译原理</a><a href="/typescript-guidebook//wiki">扩展</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/typescript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/typescript-guidebook-logo.svg&#x27;)" href="/typescript-guidebook//"></a><h1>TypeScript Guidebook</h1><p>TypeScript 完全知识体系</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a aria-current="page" class="active" href="/typescript-guidebook//syntax">语法</a></li><li><a href="/typescript-guidebook//config">配置</a></li><li><a href="/typescript-guidebook//compiler">编译原理</a></li><li><a href="/typescript-guidebook//wiki">扩展</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/typescript-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a aria-current="page" class="active" href="/typescript-guidebook//syntax/basics">基础</a><ul><li><a href="/typescript-guidebook//syntax/basics/basic-types"><span>原始数据类型</span></a></li><li><a href="/typescript-guidebook//syntax/basics/tuple"><span>元组类型</span></a></li><li><a href="/typescript-guidebook//syntax/basics/enums"><span>枚举类型</span></a></li><li><a href="/typescript-guidebook//syntax/basics/any"><span>任意类型</span></a></li><li><a href="/typescript-guidebook//syntax/basics/type-of-never"><span>never 类型</span></a></li><li><a href="/typescript-guidebook//syntax/basics/type-of-array"><span>数组的类型</span></a></li><li><a href="/typescript-guidebook//syntax/basics/type-of-function"><span>函数的类型</span></a></li><li><a aria-current="page" class="active" href="/typescript-guidebook//syntax/basics/interfaces"><span>对象的类型 / 接口</span></a></li><li><a href="/typescript-guidebook//syntax/basics/classes"><span>类</span></a></li><li><a href="/typescript-guidebook//syntax/basics/type-aliases"><span>类型别名</span></a></li><li><a href="/typescript-guidebook//syntax/basics/declaration-merging"><span>声明合并</span></a></li></ul></li><li><a href="/typescript-guidebook//syntax/advanced">进阶</a><ul><li><a href="/typescript-guidebook//syntax/advanced/generics"><span>泛型</span></a></li><li><a href="/typescript-guidebook//syntax/advanced/type-assertion"><span>类型断言</span></a></li><li><a href="/typescript-guidebook//syntax/advanced/type-inference"><span>类型推论</span></a></li><li><a href="/typescript-guidebook//syntax/advanced/type-guards"><span>类型保护</span></a></li><li><a href="/typescript-guidebook//syntax/advanced/type-compatibility"><span>类型兼容性</span></a></li><li><a href="/typescript-guidebook//syntax/advanced/intersection-types"><span>交叉类型</span></a></li><li><a href="/typescript-guidebook//syntax/advanced/union-types"><span>联合类型</span></a></li><li><a href="/typescript-guidebook//syntax/advanced/index-types"><span>索引类型</span></a></li><li><a href="/typescript-guidebook//syntax/advanced/mapped-types"><span>映射类型</span></a></li><li><a href="/typescript-guidebook//syntax/advanced/conditional-types"><span>条件类型</span></a></li><li><a href="/typescript-guidebook//syntax/advanced/this-types"><span>This类型</span></a></li><li><a href="/typescript-guidebook//syntax/advanced/string-literal-types"><span>字符串字面量类型</span></a></li><li><a href="/typescript-guidebook//syntax/advanced/discriminated-unions"><span>可辨识联合</span></a></li><li><a href="/typescript-guidebook//syntax/advanced/namespaces-and-modules"><span>命名空间和模块</span></a></li><li><a href="/typescript-guidebook//syntax/advanced/utility-types"><span>实用工具类型</span></a></li></ul></li><li><a href="/typescript-guidebook//syntax/senior">高级</a><ul><li><a href="/typescript-guidebook//syntax/senior/modules-resolution"><span>模块解析</span></a></li><li><a href="/typescript-guidebook//syntax/senior/decorators"><span>装饰器</span></a></li><li><a href="/typescript-guidebook//syntax/senior/mixins"><span>混入</span></a></li><li><a href="/typescript-guidebook//syntax/senior/triple-slash-directives"><span>三斜线指令</span></a></li><li><a href="/typescript-guidebook//syntax/senior/error"><span>常见报错</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="什么是接口" data-depth="2" class=""><a href="/typescript-guidebook//syntax/basics/interfaces#什么是接口"><span>什么是接口</span></a></li><li title="基础用法" data-depth="2" class=""><a href="/typescript-guidebook//syntax/basics/interfaces#基础用法"><span>基础用法</span></a></li><li title="可选属性" data-depth="2" class=""><a href="/typescript-guidebook//syntax/basics/interfaces#可选属性"><span>可选属性</span></a></li><li title="任意属性" data-depth="2" class=""><a href="/typescript-guidebook//syntax/basics/interfaces#任意属性"><span>任意属性</span></a></li><li title="只读属性" data-depth="2" class=""><a href="/typescript-guidebook//syntax/basics/interfaces#只读属性"><span>只读属性</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="对象的类型--接口"><a aria-hidden="true" href="#对象的类型--接口"><span class="icon icon-link"></span></a>对象的类型 / 接口</h1><p>接口是对象的类型。</p><p>TypeScript 的核心原则之一是对值具有结构进行类型检查。它有时被称作「鸭式辨型」或「结构性子类型化」。在 TypeScript 里，接口的作用就是为这些类型命名和为你的代码或第三方代码定义契约，</p><h2 id="什么是接口"><a aria-hidden="true" href="#什么是接口"><span class="icon icon-link"></span></a>什么是接口</h2><p>面向对象语言中，接口（Interfaces）是一个很重要的概念，它是对行为的抽象，而具体如何行动需要由类（classes）去实现（implement）。</p><p>TypeScript 中的接口是一个非常灵活的概念，除了可用于 <a href="https://ts.xcatliu.com/advanced/class-and-interfaces#%E7%B1%BB%E5%AE%9E%E7%8E%B0%E6%8E%A5%E5%8F%A3" target="_blank" rel="noopener noreferrer">对类的一部分行为进行抽象<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 以外，也常用于对「对象的形状（Shape）」进行描述。</p><h2 id="基础用法"><a aria-hidden="true" href="#基础用法"><span class="icon icon-link"></span></a>基础用法</h2><div class="__dumi-default-code-block"><pre class="prism-code language-ts"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface Person {
  name: string;
  age: number;
}

let tom: Person = {
  name: &#x27;Tom&#x27;,
  age: 25,
};
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  age</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> tom</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;Tom&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  age</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">25</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上面的例子中，我们定义了一个接口 Person，接着定义了一个变量 <code>tom</code>，它的类型是 <code>Person</code>。这样，我们就约束了 <code>tom</code> 的形状必须和接口 <code>Person</code> 一致。</p><p>接口一般首字母大写。有的编程语言中会建议接口的名称加上 <code>I</code> 前缀。</p><p>定义的变量比接口少了一些属性是不允许的：</p><div class="__dumi-default-code-block"><pre class="prism-code language-ts"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface Person {
    name: string;
    age: number;
}

let tom: Person = {
    name: &#x27;Tom
}
// index.ts(6,5): error TS2322: Type &#x27;{ name: string; }&#x27; is not assignable to type &#x27;Person&#x27;.
// Property &#x27;age&#x27; is missing in type &#x27;{ name: string; }&#x27;.
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    age</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> tom</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    name</span><span class="token punctuation">:</span><span class="token plain"> &#x27;</span><span class="token maybe-class-name">Tom</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// index.ts(6,5): error TS2322: Type &#x27;{ name: string; }&#x27; is not assignable to type &#x27;Person&#x27;.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// Property &#x27;age&#x27; is missing in type &#x27;{ name: string; }&#x27;.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>多一些属性也是不允许的：</p><div class="__dumi-default-code-block"><pre class="prism-code language-ts"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface Person {
  name: string;
  age: number;
}

let tom: Person = {
  name: &#x27;Tom&#x27;,
  age: 25,
  gender: &#x27;male&#x27;,
};

// index.ts(9,5): error TS2322: Type &#x27;{ name: string; age: number; gender: string; }&#x27; is not assignable to type &#x27;Person&#x27;.
//   Object literal may only specify known properties, and &#x27;gender&#x27; does not exist in type &#x27;Person&#x27;.
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  age</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> tom</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;Tom&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  age</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">25</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  gender</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;male&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// index.ts(9,5): error TS2322: Type &#x27;{ name: string; age: number; gender: string; }&#x27; is not assignable to type &#x27;Person&#x27;.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">//   Object literal may only specify known properties, and &#x27;gender&#x27; does not exist in type &#x27;Person&#x27;.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>可见，赋值的时候，变量的形状必须和接口保持一致。</p><h2 id="可选属性"><a aria-hidden="true" href="#可选属性"><span class="icon icon-link"></span></a>可选属性</h2><p>有时我们希望不要完全匹配一个形状，那么可以用可选属性：</p><div class="__dumi-default-code-block"><pre class="prism-code language-ts"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface Person {
  name: string;
  age?: number;
}

let tom: Person = {
  name: &#x27;Tom&#x27;,
};
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  age</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> tom</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;Tom&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><div class="__dumi-default-code-block"><pre class="prism-code language-ts"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface Person {
  name: string;
  age?: number;
}

let tom: Person = {
  name: &#x27;Tom&#x27;,
  age: 25,
};
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  age</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> tom</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;Tom&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  age</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">25</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>可选属性的含义是该属性可以不存在。</p><p>这时仍然不允许添加未定义的属性：</p><div class="__dumi-default-code-block"><pre class="prism-code language-ts"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface Person {
  name: string;
  age?: number;
}

let tom: Person = {
  name: &#x27;Tom&#x27;,
  age: 25,
  gender: &#x27;male&#x27;,
};

// examples/playground/index.ts(9,5): error TS2322: Type &#x27;{ name: string; age: number; gender: string; }&#x27; is not assignable to type &#x27;Person&#x27;.
//   Object literal may only specify known properties, and &#x27;gender&#x27; does not exist in type &#x27;Person&#x27;.
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  age</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> tom</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;Tom&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  age</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">25</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  gender</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;male&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// examples/playground/index.ts(9,5): error TS2322: Type &#x27;{ name: string; age: number; gender: string; }&#x27; is not assignable to type &#x27;Person&#x27;.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">//   Object literal may only specify known properties, and &#x27;gender&#x27; does not exist in type &#x27;Person&#x27;.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>这时仍然不允许添加未定义的属性。</p><h2 id="任意属性"><a aria-hidden="true" href="#任意属性"><span class="icon icon-link"></span></a>任意属性</h2><p>有时候我们希望一个接口允许有任意的属性，可以使用如下方式：</p><div class="__dumi-default-code-block"><pre class="prism-code language-ts"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface Person {
  name: string;
  age?: number;
  [propName: string]: any;
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  age</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">[</span><span class="token plain">propName</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>使用 <code>[propName: string]</code> 定义了任意属性取 <code>string</code> 类型的值。</p><p>需要注意的是，一旦定义了任意属性，那么确定属性和可选属性的参加类型都必须是它的类型的子集：</p><div class="__dumi-default-code-block"><pre class="prism-code language-ts"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface Person {
    name: string;
    age?: number;
    [prop:string]: string;
}

let tom: Person {
    name: &#x27;Tom&#x27;,
    age: 25,
    gender: &#x27;male&#x27;
}

// index.ts(3,5): error TS2411: Property &#x27;age&#x27; of type &#x27;number&#x27; is not assignable to string index type &#x27;string&#x27;.
// index.ts(7,5): error TS2322: Type &#x27;{ [x: string]: string | number; name: string; age: number; gender: string; }&#x27; is not assignable to type &#x27;Person&#x27;.
//   Index signatures are incompatible.
//     Type &#x27;string | number&#x27; is not assignable to type &#x27;string&#x27;.
//       Type &#x27;number&#x27; is not assignable to type &#x27;string&#x27;.
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    age</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">[</span><span class="token plain">prop</span><span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> tom</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;Tom&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    age</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">25</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    gender</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;male&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// index.ts(3,5): error TS2411: Property &#x27;age&#x27; of type &#x27;number&#x27; is not assignable to string index type &#x27;string&#x27;.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// index.ts(7,5): error TS2322: Type &#x27;{ [x: string]: string | number; name: string; age: number; gender: string; }&#x27; is not assignable to type &#x27;Person&#x27;.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">//   Index signatures are incompatible.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">//     Type &#x27;string | number&#x27; is not assignable to type &#x27;string&#x27;.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">//       Type &#x27;number&#x27; is not assignable to type &#x27;string&#x27;.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上例中，任意属性的值允许是 <code>string</code>，但是可选属性 <code>age</code> 的值却是 <code>number</code>，<code>number</code> 不是 <code>string</code> 的子属性，所以报错了。</p><p>另外，在报错信息中可以看出，此时 <code>{<!-- --> name: &#x27;Tom&#x27;, age: 25, gender: &#x27;male&#x27; <!-- -->}</code> 的类型被推断成了 <code>{<!-- --> [x: string]: string | number; name: string; age: number; gender: string; <!-- -->}</code>，这是联合类型和接口的结合。</p><h2 id="只读属性"><a aria-hidden="true" href="#只读属性"><span class="icon icon-link"></span></a>只读属性</h2><p>有时候我们希望对象中的一些字段只能在创建的时候被赋值，那么可以用 <code>readonly</code> 定义只读属性：</p><div class="__dumi-default-code-block"><pre class="prism-code language-ts"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface Person {
  readonly id: number;
  name: string;
  age?: number;
  [propName: string]: any;
}

let tom: Person = {
  id: 89757,
  name: &#x27;Tom&#x27;,
  gender: &#x27;male&#x27;,
};

tom.id = 9527;

// index.ts(14,5): error TS2540: Cannot assign to &#x27;id&#x27; because it is a constant or a read-only property.
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">readonly</span><span class="token plain"> id</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  age</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">[</span><span class="token plain">propName</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> tom</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  id</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token number">89757</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;Tom&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  gender</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;male&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">tom</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">9527</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// index.ts(14,5): error TS2540: Cannot assign to &#x27;id&#x27; because it is a constant or a read-only property.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上例中，使用 <code>readonly</code> 定义的属性 <code>id</code> 初始化后，又被赋值了，所以报错了。</p><p>注意，只读的约束存在于第一次给对象赋值的时候，而不是第一次给只读属性赋值的时候：</p><div class="__dumi-default-code-block"><pre class="prism-code language-ts"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="interface Person {
  readonly id: number;
  name: string;
  age?: number;
  [propName: string]: any;
}

let tom: Person = {
  name: &#x27;Tom&#x27;,
  gender: &#x27;male&#x27;,
};

tom.id = 89757;

// index.ts(8,5): error TS2322: Type &#x27;{ name: string; gender: string; }&#x27; is not assignable to type &#x27;Person&#x27;.
//   Property &#x27;id&#x27; is missing in type &#x27;{ name: string; gender: string; }&#x27;.
// index.ts(13,5): error TS2540: Cannot assign to &#x27;id&#x27; because it is a constant or a read-only property.
" data-status="copy"></button><div class="token-line"><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">readonly</span><span class="token plain"> id</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  age</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">[</span><span class="token plain">propName</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> tom</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;Tom&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  gender</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;male&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">tom</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">89757</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// index.ts(8,5): error TS2322: Type &#x27;{ name: string; gender: string; }&#x27; is not assignable to type &#x27;Person&#x27;.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">//   Property &#x27;id&#x27; is missing in type &#x27;{ name: string; gender: string; }&#x27;.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// index.ts(13,5): error TS2540: Cannot assign to &#x27;id&#x27; because it is a constant or a read-only property.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>上例中，报错信息有两处，第一处是在对 <code>tom</code> 进行赋值的时候，没有给 <code>id</code> 赋值。</p><p>第二处是在给 <code>tom.id</code> 赋值的时候，由于它是只读属性，所以报错了。</p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/typescript-guidebook/edit/master/docs/syntax/basics/interfaces.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">8/25/2020, 2:53:55 AM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/typescript-guidebook/umi.js"></script>
    <script src="/typescript-guidebook/docs__syntax__basics__interfaces.md.js"></script>
  </body>
</html>
